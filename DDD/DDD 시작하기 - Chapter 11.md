# CQRS
- 명령 모델과 조회 모델
- CQRS 장단점

## 단일 모델의 단점
- 구현 복잡도를 낮추는 간단한 방법
  - 상태 변경을 위한 모델과 조회를 위한 모델을 분리하는 것

## CQRS
- 시스템이 제공하는 기능은 크게 두 가지
  - 상태를 변경하는 기능
  - 상태 정보를 조회하는 기능
- 상태를 변경하는 범위와 상태를 조회하는 범위가 정확하게 일치하지 않기 때문에 단일 모델로 두 종류의 기능을 구현하면 모델이 불필요하게 복잡해짐
  - 단일 모델을 사용할 때 발생하는 복잡도를 해결하기 위해 사용하는 방법 → CQRS
  - Command Query Responsibility Segregation
  - 상태를 변경하는 명령(Command)을 위한 모델과 상태를 제공하는 조회(Query)를 위한 모델을 분리하는 패턴
- CQRS는 복잡한 도메인에 적합
  - 도메인이 복잡할수록 명령 기능과 조회 기능이 다루는 데이터 범위에 차이가 남
- CQRS를 사용하면 각 모델에 맞는 구현 기술을 선택할 수 있음
- 웹과 CQRS
  - 일반적인 웹 서비스는 상태를 변경하는 요청보다 상태를 조회하는 요청이 많음
  - 조회 성능을 높이기 위해 다양한 기법을 사용하는 것은 결과적으로 CQRS를 적용하는 것과 같은 효과를 만듦
  - 대규모 트래픽이 발생하는 웹 서비스는 알게 모르게 CQRS를 적용하게 됨
- CQRS 장단점
  - 장점
    - 명령 모델을 구현할 때 도메인 자체에 집중할 수 있음
    - 조회 성능을 향상시키는 데 유리함
  - 단점
    - 구현해야 할 코드가 더 많음
    - 더 많은 구현 기술이 필요함